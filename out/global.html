<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Global</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Global</h1>

    



<section>

<header>
    
        <h2>
        
        </h2>
        
    
</header>

<article>
    <div class="container-overview">
    

    
        

        
<dl class="details">
    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


        
    
    </div>

    

    

    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        <dl>
            
<dt>
    
        <h4 class="name" id="addChildren"><span class="type-signature"></span>addChildren<span class="signature">(visitId)</span><span class="type-signature"></span></h4>

        
    
</dt>
<dd>

    
    <div class="description">
        Gets all visits with referringVisitId equal to this visitId (the children)for each child visit add the visit to the chrome_visits arrayfor each chil visit add the url historyItem for the visit to the chrome_urls arrayfor each chil visit call addChildren to get the children of this child, recursively
    </div>
    

    

    

    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>visitId</code></td>
            

            <td class="type">
            
                
<span class="param-type">integer</span>


            
            </td>

            

            

            <td class="description last">the visitId to search for</td>
        </tr>

    
    </tbody>
</table>
    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="background.js.html">background.js</a>, <a href="background.js.html#line156">line 156</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<dt>
    
        <h4 class="name" id="findHistoryItemById"><span class="type-signature"></span>findHistoryItemById<span class="signature">(id)</span><span class="type-signature"></span></h4>

        
    
</dt>
<dd>

    
    <div class="description">
        Finds a specific HistoryItem from the list of allHistoryItems for this id
    </div>
    

    

    

    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type">integer</span>


            
            </td>

            

            

            <td class="description last">the id to search for</td>
        </tr>

    
    </tbody>
</table>
    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="background.js.html">background.js</a>, <a href="background.js.html#line141">line 141</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<dt>
    
        <h4 class="name" id="findVisitItemByHistoryItem"><span class="type-signature"></span>findVisitItemByHistoryItem<span class="signature">(historyItem)</span><span class="type-signature"></span></h4>

        
    
</dt>
<dd>

    
    <div class="description">
        Finds a specific VisitItem from the list of allVisitItems for this HistoryItem, matching on historyItem.id and historyItem.lastVisitTime
    </div>
    

    

    

    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>historyItem</code></td>
            

            <td class="type">
            
                
<span class="param-type">HistoryItem</span>


            
            </td>

            

            

            <td class="description last">the historyItem to search for</td>
        </tr>

    
    </tbody>
</table>
    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="background.js.html">background.js</a>, <a href="background.js.html#line117">line 117</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<dt>
    
        <h4 class="name" id="findVisitItemByVisitId"><span class="type-signature"></span>findVisitItemByVisitId<span class="signature">(visitId)</span><span class="type-signature"></span></h4>

        
    
</dt>
<dd>

    
    <div class="description">
        Finds a specific VisitItem from the list of allVisitItems for this visitId
    </div>
    

    

    

    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>visitId</code></td>
            

            <td class="type">
            
                
<span class="param-type">integer</span>


            
            </td>

            

            

            <td class="description last">the visitId to search for</td>
        </tr>

    
    </tbody>
</table>
    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="background.js.html">background.js</a>, <a href="background.js.html#line129">line 129</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<dt>
    
        <h4 class="name" id="getAllVisits"><span class="type-signature"></span>getAllVisits<span class="signature">(callback)</span><span class="type-signature"></span></h4>

        
    
</dt>
<dd>

    
    <div class="description">
        Gets all the visits associated with the list of HistoryItems in allHistoryItemsTempfills in the allHistoryItems array with all the history items (as they are processed)fills in the allVisitItems array with all the visit items associated with each history item (as they are processed)calls itself, unless there are no allHistoryItemsTemp left, then it calls the callback function
    </div>
    

    

    

    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">the function to call when this routine completes</td>
        </tr>

    
    </tbody>
</table>
    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="background.js.html">background.js</a>, <a href="background.js.html#line333">line 333</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<dt>
    
        <h4 class="name" id="init"><span class="type-signature"></span>init<span class="signature">()</span><span class="type-signature"></span></h4>

        
    
</dt>
<dd>

    
    <div class="description">
        Initializes the background page when it loads.- checks for the token and idle, and if not present then loads the options page- the options page will call init() again upon saving settings- sets up the idle listener- when idle, it starts processing all the links that came before the idle and after the last processing time- gets a list of allHistoryItems- gets a sublist of uploadItems- filters the uploadItems to a list of verifiedItems (nih.gov or wikipedia with matching keywords)- gets a list of allVisitItems for each entry in allHistoryItems- at this point allHistoryItems, allVisitItems, and verifiedItems are filled- so just need to extract the trees, by calling traverseAndPost- sets the time of this update in local storage
    </div>
    

    

    

    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="background.js.html">background.js</a>, <a href="background.js.html#line28">line 28</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<dt>
    
        <h4 class="name" id="init"><span class="type-signature"></span>init<span class="signature">()</span><span class="type-signature"></span></h4>

        
    
</dt>
<dd>

    
    <div class="description">
        Called on the DOMContentLoaded event (when the page has loaded)The page allows for setting and updating the token and the idle timeand saves these settings to local storage.
    </div>
    

    

    

    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="options.js.html">options.js</a>, <a href="options.js.html#line19">line 19</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<dt>
    
        <h4 class="name" id="init"><span class="type-signature"></span>init<span class="signature">()</span><span class="type-signature"></span></h4>

        
    
</dt>
<dd>

    
    <div class="description">
        Called on the window onload event (when the popup has loaded)The page shows the status for the idle time, the last idle time, and the running statusIt also provides a settings link that will open the options.html page
    </div>
    

    

    

    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="popup.js.html">popup.js</a>, <a href="popup.js.html#line16">line 16</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<dt>
    
        <h4 class="name" id="saveTree"><span class="type-signature"></span>saveTree<span class="signature">(callback)</span><span class="type-signature"></span></h4>

        
    
</dt>
<dd>

    
    <div class="description">
        Saves the tree in the url_tree variable (put there from traverseAndPost)then it calls the callback function
    </div>
    

    

    

    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">the function to call when this routine completes</td>
        </tr>

    
    </tbody>
</table>
    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="background.js.html">background.js</a>, <a href="background.js.html#line366">line 366</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<dt>
    
        <h4 class="name" id="traverseAndPost"><span class="type-signature"></span>traverseAndPost<span class="signature">(callback)</span><span class="type-signature"></span></h4>

        
    
</dt>
<dd>

    
    <div class="description">
        Traverses and posts each item in the verifiedItems array, starting with the first onefills in the chrome_urls and chrome_visits arraysadds the url and visit for this verified itemtraversing down the visits table, to last leaf in tree from url by calling addChildren for this verified itemthen traverses up the visits table to the first typed domain, and add associated urls and visitsthen saves the tree to the save_tree.php along with the tokencalls itself with the next verifiedItem, unless there are none left, then it calls the callback function
    </div>
    

    

    

    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">the function to call when this routine completes</td>
        </tr>

    
    </tbody>
</table>
    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="background.js.html">background.js</a>, <a href="background.js.html#line205">line 205</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<dt>
    
        <h4 class="name" id="verifyUploadItems"><span class="type-signature"></span>verifyUploadItems<span class="signature">(callback)</span><span class="type-signature"></span></h4>

        
    
</dt>
<dd>

    
    <div class="description">
        Verifies all the urls in the uploadItems array and puts them in the verifiedItems arrayfor nih.gov, they are add to the list immediatelyfor wikipedia links, the page is loaded from wikipedia and uses the clinical_detect routine (in javascript) to verify the pagecalls itself, unless there are no uploadItems left, then it calls the callback function
    </div>
    

    

    

    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">the function to call when this routine completes</td>
        </tr>

    
    </tbody>
</table>
    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="background.js.html">background.js</a>, <a href="background.js.html#line408">line 408</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    

    
</dd>

        </dl>
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Global</h3><ul><li><a href="global.html#addChildren">addChildren</a></li><li><a href="global.html#findHistoryItemById">findHistoryItemById</a></li><li><a href="global.html#findVisitItemByHistoryItem">findVisitItemByHistoryItem</a></li><li><a href="global.html#findVisitItemByVisitId">findVisitItemByVisitId</a></li><li><a href="global.html#getAllVisits">getAllVisits</a></li><li><a href="global.html#init">init</a></li><li><a href="global.html#saveTree">saveTree</a></li><li><a href="global.html#traverseAndPost">traverseAndPost</a></li><li><a href="global.html#verifyUploadItems">verifyUploadItems</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-dev</a> on Wed Jul 30 2014 09:24:52 GMT-0400 (EDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>